<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj.security.message-digest documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clj.security.message-digest 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>security</span></div></div></li><li class="depth-3 current"><a href="clj.security.message-digest.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message-digest</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj.security.message-digest.html#var-*default-charset*"><div class="inner"><span>*default-charset*</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-*default-digest-algorithm*"><div class="inner"><span>*default-digest-algorithm*</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var--.3ETMessageDigest"><div class="inner"><span>-&gt;TMessageDigest</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var--.3ETTransientMessageDigest"><div class="inner"><span>-&gt;TTransientMessageDigest</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-any2bytes"><div class="inner"><span>any2bytes</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-bytes2base32"><div class="inner"><span>bytes2base32</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-bytes2base64"><div class="inner"><span>bytes2base64</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-bytes2hex"><div class="inner"><span>bytes2hex</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-charset-name"><div class="inner"><span>charset-name</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-digest"><div class="inner"><span>digest</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-digests-equal.3F"><div class="inner"><span>digests-equal?</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-hex2bytes"><div class="inner"><span>hex2bytes</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-IMessageDigest"><div class="inner"><span>IMessageDigest</span></div></a></li><li class="depth-2 branch"><a href="clj.security.message-digest.html#var--digest"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-digest</span></div></a></li><li class="depth-2 branch"><a href="clj.security.message-digest.html#var--update"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-update</span></div></a></li><li class="depth-2 branch"><a href="clj.security.message-digest.html#var-algorithm"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>algorithm</span></div></a></li><li class="depth-2"><a href="clj.security.message-digest.html#var-charset"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>charset</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-ITransient*"><div class="inner"><span>ITransient*</span></div></a></li><li class="depth-2"><a href="clj.security.message-digest.html#var-transient*"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transient*</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-ITransientMessageDigest"><div class="inner"><span>ITransientMessageDigest</span></div></a></li><li class="depth-2 branch"><a href="clj.security.message-digest.html#var--update.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-update!</span></div></a></li><li class="depth-2"><a href="clj.security.message-digest.html#var-persistent*.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>persistent*!</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-make-message-digest"><div class="inner"><span>make-message-digest</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-update"><div class="inner"><span>update</span></div></a></li><li class="depth-1"><a href="clj.security.message-digest.html#var-update.21"><div class="inner"><span>update!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">clj.security.message-digest</h2><div class="doc"><pre class="plaintext">A functional clojure library for the creation of secure hashes, i.e. message digests, 
thru the one-way functions known by the names of MD5, SHA-1, SHA-256, SHA-512, etc. 
This module wraps the java.security.MessageDigest library in a pure functional abstraction layer.
The interfaces are functional as the message-digest object, which holds the accumulated
digest state, is immutable. The &quot;make-message-digest&quot; factory function creates a new 
message-digest object, and is passed the digest-algorithm to use for the hashing as well 
as the charset to use for strings. The &quot;update&quot; function returns a new updated 
message-digest object, while the &quot;digest&quot; function generates the accumulated digest 
without changing the passed message-digest object. 
The functional interfaces allow for a more clojuresque and worry-free coding experience.
Furthermore, as the update function returns a new immutable, updated message-digest object,
it can safely be used in higher-order reduce-like functions.
Lastly, both update and digest can be passed a variable number of arguments, 
which will be digested lazely to accommodate a virtually infinite number of args. Also,
the arguments can be a mix of strings, characters, bytes or byte-arrays that will be 
transparently byte-encoded based on the specified charset. 
Note that nils are ignored as arguments.
Example:
user=&gt; (def d0 (make-message-digest :SHA-1 :UTF-8))
#'user/d0
user=&gt; (-&gt;hex (digest d0 &quot;abc&quot;))
&quot;A9993E364706816ABA3E25717850C26C9CD0D89D&quot;
user=&gt; (-&gt;hex (digest (update d0 &quot;abc&quot;)))
&quot;A9993E364706816ABA3E25717850C26C9CD0D89D&quot;
user=&gt; (-&gt;hex (digest (update d0 (.getBytes &quot;a&quot; &quot;UTF-8&quot;) \b (byte 99))))
&quot;A9993E364706816ABA3E25717850C26C9CD0D89D&quot;
user=&gt; (-&gt;hex (apply digest d0 (repeat 1000000 &quot;a&quot;)))
&quot;34AA973CD4C4DAA4F61EEB2BDBAD27316534016F&quot;
(see &quot;<a href="http://www.nsrl.nist.gov/testdata/&quot;)">http://www.nsrl.nist.gov/testdata/&quot;)</a>
</pre></div><div class="public anchor" id="var-*default-charset*"><h3>*default-charset*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Dynamic var that holds the default charset (as a keyword) to use to transform strings to 
byte-arrays for the message digesting, i.e. secure hashing.
For example: :UTF-8, :utf-16.</pre></div></div><div class="public anchor" id="var-*default-digest-algorithm*"><h3>*default-digest-algorithm*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Dynamic var that holds the default digest-algorithm (as a keyword) to use for the message digesting, i.e. secure hashing.
For example: :sha-1, :MD5, :SHA-512.</pre></div></div><div class="public anchor" id="var--.3ETMessageDigest"><h3>-&gt;TMessageDigest</h3><div class="usage"><code>(-&gt;TMessageDigest msg-digest charset)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class clj.security.message_digest.TMessageDigest.
</pre></div></div><div class="public anchor" id="var--.3ETTransientMessageDigest"><h3>-&gt;TTransientMessageDigest</h3><div class="usage"><code>(-&gt;TTransientMessageDigest editable? msg-digest charset)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class clj.security.message_digest.TTransientMessageDigest.
</pre></div></div><div class="public anchor" id="var-any2bytes"><h3>any2bytes</h3><div class="usage"><code>(any2bytes s)</code><code>(any2bytes charset s)</code></div><div class="doc"><pre class="plaintext">Transforms the input argument value to a byte-array.
Uses specified charset for strings and chars when necessary.
Input can be (vector-of :byte ...)
Output can be used to feed message digesters</pre></div></div><div class="public anchor" id="var-bytes2base32"><h3>bytes2base32</h3><div class="usage"><code>(bytes2base32 some-bytes)</code></div><div class="doc"><pre class="plaintext">
</pre></div></div><div class="public anchor" id="var-bytes2base64"><h3>bytes2base64</h3><div class="usage"><code>(bytes2base64 some-bytes)</code></div><div class="doc"><pre class="plaintext">
</pre></div></div><div class="public anchor" id="var-bytes2hex"><h3>bytes2hex</h3><div class="usage"><code>(bytes2hex some-bytes)</code></div><div class="doc"><pre class="plaintext">Returs a string with the hex-value equivalents of the given byte-array.
</pre></div></div><div class="public anchor" id="var-charset-name"><h3>charset-name</h3><div class="usage"><code>(charset-name s)</code></div><div class="doc"><pre class="plaintext">Returs the canonical charset name for s and throws an exception when s does not refer to a valid charset encoding.
s can be a string or keyword.
Returns string with canonical charset name.</pre></div></div><div class="public anchor" id="var-digest"><h3>digest</h3><div class="usage"><code>(digest)</code><code>(digest this &amp; bytes-or-str)</code></div><div class="doc"><pre class="plaintext">Returns a byte-array of the value for the accumulated message digest.
this - a TMessageDigest object or the first argument to digest
bytes-or-str - 0, 1 or more arguments to digest of type string, char or byte-array.
If first argument is not a TMessageDigest object, then a new one will be dynamically 
created and that first argument is seen as the first value to digest.
The digest algorithm and charset are either pre-configured in the passed 
TMessageDigest object, or taken from the *default-digest-algorithm* and 
*default-charset* vars if the TMessageDigest object is created dynamically.
Note that any passed TMessageDigest object is not changed.</pre></div></div><div class="public anchor" id="var-digests-equal.3F"><h3>digests-equal?</h3><div class="usage"><code>(digests-equal? this &amp; digests)</code></div><div class="doc"><pre class="plaintext">Returns true if this digest is equal to all the individual digests.
Returns false otherwise.
Input is either a message-digest object (TMessageDigest) 
or a digest result as a byte-array.
Does a simple byte-compare of the individual digest-values</pre></div></div><div class="public anchor" id="var-hex2bytes"><h3>hex2bytes</h3><div class="usage"><code>(hex2bytes hex-str)</code></div><div class="doc"><pre class="plaintext">Returns a byte array for a string of hexadecimals.
</pre></div></div><div class="public anchor" id="var-IMessageDigest"><h3>IMessageDigest</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Defines the -update and -digest interfaces for TMessageDigest objects.
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--digest"><h3>-digest</h3><div class="usage"><code>(-digest this)</code><code>(-digest this bytes-or-str)</code></div><div class="doc"><pre class="plaintext">See &quot;digest&quot; function
</pre></div></div><div class="public anchor" id="var--update"><h3>-update</h3><div class="usage"><code>(-update this bytes-or-str)</code></div><div class="doc"><pre class="plaintext">See &quot;update&quot; function
</pre></div></div><div class="public anchor" id="var-algorithm"><h3>algorithm</h3><div class="usage"><code>(algorithm this)</code></div><div class="doc"><pre class="plaintext">Returns the message-digest/secure-hash algorithm name for this digester
</pre></div></div><div class="public anchor" id="var-charset"><h3>charset</h3><div class="usage"><code>(charset this)</code></div><div class="doc"><pre class="plaintext">Returns the configured charset name that will be used for string2bytes 
encoding for this digester</pre></div></div></div></div></div><div class="public anchor" id="var-ITransient*"><h3>ITransient*</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-transient*"><h3>transient*</h3><div class="usage"><code>(transient* this)</code></div><div class="doc"><pre class="plaintext">Returns a transient, mutable version of this.
Note that this itself is not affected.
Call persistent*! after mutating operations are finished to obtain an immutable instance.</pre></div></div></div></div></div><div class="public anchor" id="var-ITransientMessageDigest"><h3>ITransientMessageDigest</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--update.21"><h3>-update!</h3><div class="usage"><code>(-update! this bytes-or-str)</code></div><div class="doc"><pre class="plaintext">See &quot;update!&quot; function
</pre></div></div><div class="public anchor" id="var-persistent*.21"><h3>persistent*!</h3><div class="usage"><code>(persistent*! this)</code></div><div class="doc"><pre class="plaintext">Returns an immutable instance and will disallow any further mutating operations on this instance.
</pre></div></div></div></div></div><div class="public anchor" id="var-make-message-digest"><h3>make-message-digest</h3><div class="usage"><code>(make-message-digest)</code><code>(make-message-digest digest-or-algo)</code><code>(make-message-digest digest-or-algo &amp; bytes-or-str)</code></div><div class="doc"><pre class="plaintext">Factory function to create TMessageDigest objects for use with &quot;update&quot; and &quot;digest&quot;.
digest-or-algo - message-digest instance or keyword indicating the digest algorithm to use, 
  like :md5, :sha-1, or :SHA-256
When no arguments are passed, the values of the dynamic vars 
*default-digest-algorithm* and *default-charset* will be used.
Returns a new message-digest (TMessageDigest) object.</pre></div></div><div class="public anchor" id="var-update"><h3>update</h3><div class="usage"><code>(update)</code><code>(update this &amp; bytes-or-str)</code></div><div class="doc"><pre class="plaintext">Updates the message digest accumulator by digesting/secure-hashing the passed arguments.
this - a TMessageDigest object, created with factory-fn &quot;make-message-digest&quot;
bytes-or-str - 0, 1 or more arguments to digest of type string, char, byte or byte-array.
Digest algorithm and charset are configured in TMessageDigest object.
Returns a new updated TMessageDigest object.</pre></div></div><div class="public anchor" id="var-update.21"><h3>update!</h3><div class="usage"><code>(update! this &amp; bytes-or-str)</code></div><div class="doc"><pre class="plaintext">Updates this TTransientMessageDigest mutable instance in-place.
Returns the changed instance.
Note that &quot;update!&quot; should only be used as an optimization when the 
immutable version &quot;update&quot; has proven to be too slow. 
(every &quot;update&quot; call incurs a cloning of the MessageDigest object,
which may affect performance if &quot;update&quot; is called many times for single bytes)  
Usage pattern:
(persistent*! (do-many-times update! (transient* a-msg-digest) single-byte))
equivalent to and (sometimes/maybe) faster than:
(do-many-times update a-msg-digest single-byte)</pre></div></div></div></body></html>